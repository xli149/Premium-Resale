<!--pages/index/index.wxml-->
<view class="container">
  <!-- å¤´éƒ¨ -->
  <view class="header">
    <view class="title">é—²ç½®ä¼˜å“</view>
    <view class="notification">
      <image class="icon" src="/images/icon_bell.png" mode="aspectFit"></image>
    </view>
  </view>

  <!-- æœç´¢æ  -->
  <view class="search-bar">
    <image class="search-icon" src="/images/icon_search.png" mode="aspectFit"></image>
    <input 
      type="text" 
      placeholder="æœç´¢äºŒæ‰‹å•†å“..." 
      value="{{searchValue}}"
      bindinput="onSearchInput"
      bindconfirm="onSearchConfirm"
    />
  </view>

  <!-- åˆ†ç±»å¯¼èˆª -->
  <scroll-view class="categories" scroll-x="true" enable-flex="true">
    <view 
      class="category" 
      wx:for="{{categories}}" 
      wx:key="id"
      bindtap="onCategoryTap"
      data-id="{{item.id}}"
    >
      <view class="category-icon" style="background-color: {{item.bgColor}}; color: {{item.color}}">
        <text class="icon-text">{{item.icon === 'mobile-alt' ? 'ğŸ“±' : 
                                item.icon === 'tshirt' ? 'ğŸ‘•' : 
                                item.icon === 'home' ? 'ğŸ ' : 
                                item.icon === 'book' ? 'ğŸ“š' : 
                                item.icon === 'gamepad' ? 'ğŸ®' : 
                                item.icon === 'bicycle' ? 'ğŸš²' : 'ğŸ“¦'}}</text>
      </view>
      <view class="category-name">{{item.name}}</view>
    </view>
  </scroll-view>

  <!-- å•†å“åˆ—è¡¨ -->
  <view class="product-grid">
    <view 
      class="product-item card" 
      wx:for="{{products}}" 
      wx:key="id"
      bindtap="onProductTap"
      data-id="{{item.id}}"
    >
      <image class="product-image" src="{{item.image}}" mode="aspectFill"></image>
      <view class="product-info">
        <view class="product-title">{{item.title}}</view>
        <view class="product-price price">Â¥{{item.price}}</view>
        <view class="product-meta flex-row space-between">
          <text class="meta-text">{{item.location}}</text>
          <text class="meta-text">{{item.time}}</text>
        </view>
      </view>
    </view>
  </view>

  <!-- å‘å¸ƒæŒ‰é’® -->
  <view class="publish-button" bindtap="onPublishTap">
    <image src="/images/icon_plus.png" mode="aspectFit"></image>
  </view>
</view>